---
title: "The DOM"
date: 2023-03-06
---

This week I learned about the Document Object Model famously known as the DOM. It was an exciting week because I started learned a great deal about the 
structure of the DOM and how web pages are manipulated using the concept of the DOM. Understanding of the DOM allows us to create dynamic web pages 
that react to events and update web pages on the fly.

### How the DOM works
HTML is markup and JavaScript is code. JavaScript is able to interact with our weg page via the DOM. The way the DOM works can be summarized in three steps
listed below:
1. When we load a web page on the browser, the browser renders the HTML markup and also create an object represention of the markup. The object representation 
contains objects and these objects are stored in the DOM.
2. JavaScript interacts with the DOM to get access to the elements. Through the DOM, JavaScript can retrieve the content of the elements and/or modify the 
elements.
3. When JavaScript modifies the DOM, the web page is updated dynamically by the browser.

### The DOM in action
Below is an example code on how JavaScript interacts with web page via the DOM.
```
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Secret Code Page</title>
    </head>
    <body>
        <!-- Some secret codes -->
        <p id="code1">The eagle is in the</p>
        <p id="code2">The fox is in the</p>
        <p id="code3">snuck into the garden last night.</p>
        <p id="code4">They said it would rain</p>
        <p id="code5">Does the red robin crow at</p>
        <p id="code6">Where can I find Mr.</p>
        
        <!-- Link to our JavaScript code-->
        <script src="secretCode.js"></script>
    </body>
</html>
```
The simpe markup above describes a web page that holds some secret code using a ```<p>``` tag for each line. Each ```<p>``` tag has an ```id``` and that is what we are going to use in the JavaScript code to access the element and retrieve the content. See the code below:
```
// JavaScript code that interacts with the 
// secret code web page using the DOM
var code = document.getElementById("code3");
var secret = code.innerHTML;

alert(secret); // This will display the content of the tag with id code3
```
From the JavaScript code above, the ```document``` object uses the method ```getElementById``` with ```code3``` as its argument to access the ```<p>``` tag with that ```id``` and stores the value in the ```code``` variable. The ```code``` is an ```element``` object and we use its ```innerHTML``` property to access the content of the element. We asign the content of the element to a new variable ```secret``` and use the ```alert()``` to display the secret code on the browser.
  
We can also change the content of the element using the ```innerHTML``` property. For instance, using the example above, we can do the following:
```
// Change the content of an element
var code = document.getElementById("code3");
code.innerHTML = "We just changed the secret";

// Display the new secret
alert(code.innerHTML); // This will display the new string we assigned
```

### Window object and the DOM
While working with the DOM, I learned about ```window``` object. An important thing to note is that when dealing with the DOM, we should execute our JavaScript code only when the page has **fully** loaded. Let me use the example code below to explain this:
```
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Planets</title>
        <script>
            //Embedded JavaScript code
            var planet = document.getElementById("greenplanet");
            planet.innerHTML = "Red Alert: hit by phaser fire!";
        </script>
    </head>
    <body>
        <h1>Green Planet</h1>
        <p id="greenplanet">All is well</p>
        <h1>Red Planet</h1>
        <p id="redplanet">Nothing to report</p>
        <h1>Blue Planet</h1>
        <p id="blueplanet">All systems are okay</p>
    </body>
</html>
```
After I ran the code above, I noticed that ```<p>``` element with the **id** ```greenplanet``` was not updating to the new string ```"Red Alert: hit by phaser fire``` that I assigned to the ```innerHTML``` property in the JavaScript code. Although we can fix this issue by moving the JavaScript code from the ```<head>``` tag to the end of the ```<body>``` tag as shown below.
```
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Planets</title>
    </head>
    <body>
        <h1>Green Planet</h1>
        <p id="greenplanet">All is well</p>
        <h1>Red Planet</h1>
        <p id="redplanet">Nothing to report</p>
        <h1>Blue Planet</h1>
        <p id="blueplanet">All systems are okay</p>

        <script>
            //Embedded JavaScript code
            var planet = document.getElementById("greenplanet");
            planet.innerHTML = "Red Alert: hit by phaser fire!";
        </script>
    </body>

</html>
```
On the other, hand we can use a ```window``` object to tell the browser to run the JavaScript code only after the web page has fully loaded. See the below code that uses the ```window``` object.
```
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Planets</title>
        <script>
            //Embedded JavaScript code
            function init() {
                var planet = document.getElementById("greenplanet");
                planet.innerHTML = "Red Alert: hit by phaser fire!";
            }
        
            window.onload = init; // Execute the code after the page is fully loaded
        </script>
    </head>
    <body>
        <h1>Green Planet</h1>
        <p id="greenplanet">All is well</p>
        <h1>Red Planet</h1>
        <p id="redplanet">Nothing to report</p>
        <h1>Blue Planet</h1>
        <p id="blueplanet">All systems are okay</p>
    </body>
</html>
```

### Challenge
The challenge was updating the web page with the JavaScript code with out moving the code to the bottom of the HTML ```<body>``` tag. I was able to solve the problem by learning about the ```window``` object and how to use which is what I demonstrated above.

### Summary
This brings me to the end of my week-6 learning experience on JavaScript programming language. It was very exciting working with the DOM.  I learned alot and was happy to see that I could dynamically change contents on web pages.

Feel free to visit my [GitHub repo](https://github.com/MarshallOkafor/learning-JavaScript/tree/main/week6) to see the complete codes that I wrote while learning JavaScript this week. Stay tuned for week-7 progress report, I can not wait to share my experience!


